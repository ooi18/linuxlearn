> grep（global search regular expression(RE) and print out the line，全面搜索正则表达式并把行打印出来）是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。 

> [参考](http://man.linuxde.net/grep)


选项
---

    -a 不要忽略二进制数据。
    -A<显示列数> 除了显示符合范本样式的那一行之外，并显示该行之后的内容。
    -b 在显示符合范本样式的那一行之外，并显示该行之前的内容。
    -c 计算符合范本样式的列数。
    -C<显示列数>或-<显示列数>  除了显示符合范本样式的那一列之外，并显示该列之前后的内容。
    -d<进行动作> 当指定要查找的是目录而非文件时，必须使用这项参数，否则grep命令将回报信息并停止动作。
    -e<范本样式> 指定字符串作为查找文件内容的范本样式。
    -E 将范本样式为延伸的普通表示法来使用，意味着使用能使用扩展正则表达式。
    -f<范本文件> 指定范本文件，其内容有一个或多个范本样式，让grep查找符合范本条件的文件内容，格式为每一列的范本样式。
    -F 将范本样式视为固定字符串的列表。
    -G 将范本样式视为普通的表示法来使用。
    -h 在显示符合范本样式的那一列之前，不标示该列所属的文件名称。
    -H 在显示符合范本样式的那一列之前，标示该列的文件名称。
    -i 忽略字符大小写的差别。
    -l 列出文件内容符合指定的范本样式的文件名称。
    -L 列出文件内容不符合指定的范本样式的文件名称。
    -n 在显示符合范本样式的那一列之前，标示出该列的编号。
    -q 不显示任何信息。
    -R/-r 此参数的效果和指定“-d recurse”参数相同。
    -s 不显示错误信息。
    -v 反转查找。
    -w 只显示全字符合的列。
    -x 只显示全列符合的列。
    -y 此参数效果跟“-i”相同。
    -o 只输出文件中匹配到的部分。
    
    
    --color 高亮显示
    -v 反向匹配
    -o 仅匹配被模式匹配的字符串,而非整行(仅显示匹配到的内容)
    -i 不区分大小写
    -E 支持拓展正则表达式
    -A 显示模式匹配到的行以及后面的 N 行
    -B 显示模式匹配到的行以及前面的N行
    -C 显示模式匹配到的行以及上下的N行
    
    
    正则匹配
    规则:
    - . 匹配任意单个字符
        - grep "r..t" /etc/passwd
    - [] 指定范围内的任意的单个字符
       - [0-9] or [[:digit:]]:表示匹配0到9的任意单个数字、两种表示方法都可以
       - [a-z] or [[:lower:]]:表示匹配小写的a到z的任意单个字母、即a-z
       - [A-Z] or [[:upper:]]:表示匹配大写的A到Z的任意单个字母、即A-Z
       - [[:alpha:]]：表示英文大小写字母、即：a-z，A-Z
       - [[:space:]]：表示包含的空白字符、即空格键，tab键
       - [[:alnum:]]：表示包含数字大小写字母、即0-9，A-Z，a-z
       - [[:punct:]]：表示包含标点符号、即：" ' ? ! ; : # $...
    
    - ^ 取反
    - 次数匹配
        - * 匹配任意次
        - .* 匹配任意长度字符串
        - \? 表示其前面的字符出现0次或者1次、\是转译字符
        - \{m\}：匹配m次  如：x\{4\}y表示y前面的x出现4前就可以被匹配到
        - \{m,n\}：至少m次，至多n次
        - \{m,\}：至少m次
        - \{0,n\}：至多匹配n次、0不可以省略
    - 位置锚定符:
       - ^：用于锚定行首，如(^Char) 匹配到的字符必须出现有行首的
       - $：用于锚定行尾，如(Char$) grep 'bash$' /etc/passwd
       - ^$：空白行、查找一个文件中所出现的空白行  ^hello$表示只有hello的行
    - 单词的锚定:
        - \<char：锚定词首，\<[r]表示一行以r开头的单词都可以匹配、也可以使用\b表示
        - char\>：锚定词尾，一行以r开头的单词都可以匹配、\b
        - \<hello\>：表示精确锚定hello这个单词
        - \<h…o\>：表示以h开头、以o结尾、中间跟了任意三个字符的单词
     - 分组元字符
        - \(\) 分组 
    
    
    # 匹配数字
    grep --color [0-9] /etc/fstab
    # 显示所有大写行
    grep --color "[[:upper:]]" /etc/fstab  
    # 匹配数字取反
    grep --color [^[:digit:]] /etc/fstab
    # 表示数字0-9 至少出现1次,之多出现2次 
    grep --color '\<[0-9]\{1,2\}\>' /etc/fstab
    # 显示/etc/fstab中以#号开头的行
    grep --color '^#' /etc/fstab     
    # 只要是以stu开头的单词都会被匹配到
    grep --color "\<stu" /etc/passwd
    
    # 分组匹配
    echo 'aabbbb\nbbb\ncccc\ndddd' | grep --color '\(ab\)'
    

实例
---

    # 搜索不包含 bb,并且出行号 
    echo 'aabbbb\nbbb\ncccc\ndddd' | grep -v -n bb
    
    # grep输出以0作为结尾符的文件名（-z）:
    grep "test" file* -lZ| xargs -0 rm

    # 搜索包含 123 或者 abc
    grep -E '123|abc' filename

    # 搜索文件内容,并且显示文件名称
    # -r 递归
    # -n 显示行号
    grep "golang.org/x" -rn .  --include='*.go'
    
    
    

链接
===

- [fgrep](./fgrep.md)  它不解析正则表达式
- [egrep](./egrep.md)  使用扩展正则表达式来构建模式，相当于grep –E、通常写成 egrep、用法基本上跟grep的相同、只是有些不需要\转译
- [rgrep](./rgrep.md)  用于递归查找文件里符合条件的字符串
